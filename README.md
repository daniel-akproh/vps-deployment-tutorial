# Blog CRUD Demo - Hostinger VPS Tutorial

A simple blog application demonstrating full CRUD operations (Create, Read, Update, Delete) with MongoDB on a Hostinger VPS.

## Features

✅ **Create** new blog posts  
✅ **Read** all posts and individual posts  
✅ **Update** existing posts  
✅ **Delete** posts  
✅ MongoDB database integration  
✅ In-memory fallback if no database is configured  
✅ Clean, modern UI for testing  

## API Endpoints

### Create Post
```
POST /api/posts
Body: { "title": "Post Title", "content": "Post content...", "author": "Author Name" }
```

### Get All Posts
```
GET /api/posts
```

### Get Single Post
```
GET /api/posts/:id
```

### Update Post
```
PUT /api/posts/:id
Body: { "title": "Updated Title", "content": "Updated content...", "author": "Author Name" }
```

### Delete Post
```
DELETE /api/posts/:id
```

### Health Check
```
GET /api/health
```

## Setup Instructions

### 1. Install Dependencies
```bash
npm install
```

### 2. Configure Database (Optional)

Set the `MONGODB_URI` environment variable with your MongoDB connection string:

```bash
# Linux/Mac
export MONGODB_URI="mongodb://username:password@localhost:27017/blog_db"
# Or for MongoDB Atlas
export MONGODB_URI="mongodb+srv://username:password@cluster.mongodb.net/blog_db"

# Windows (PowerShell)
$env:MONGODB_URI="mongodb://username:password@localhost:27017/blog_db"
# Or for MongoDB Atlas
$env:MONGODB_URI="mongodb+srv://username:password@cluster.mongodb.net/blog_db"

# Or create a .env file (requires dotenv package)
MONGODB_URI=mongodb://username:password@localhost:27017/blog_db
```

**Note:** If you don't set `MONGODB_URI`, the app will use in-memory storage (data will be lost on restart).

### 3. Run the Server
```bash
npm start
```

The server will start on port 3000 (or the PORT environment variable if set).

### 4. Test the Application

Open your browser and visit:
```
http://localhost:3000
```

You'll see a user-friendly interface to:
- Create new blog posts
- View all posts
- Edit existing posts
- Delete posts
- Check uses a MongoDB collection named `blog_posts` with the following structure:

```javascript
{
  _id: ObjectId,           // Auto-generated by MongoDB
  title: String,           // Post title (required)
  content: String,         // Post content (required)
  author: String,          // Author name (required)
  created_at: Date,        // Creation timestamp
  updated_at: Date         // Last update timestamp
}
```

An index is automatically created on `created_at` for efficient sorting.uthor VARCHAR(100) NOT NULL,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```MongoDB database (locally or use MongoDB Atlas)
4. Configure the `MONGODB_URI` environment variable
5. Install dependencies: `npm install`
6. Start the server: `npm start`
7. Use PM2 or similar to keep it running:
   ```bash
   npm install -g pm2
   pm2 start server.js --name blog-api
   pm2 save
   pm2 startup
   ```

### MongoDB Options:
- **Local MongoDB**: Install MongoDB on your VPS
- **MongoDB Atlas**: Use free cloud MongoDB (recommended for beginners)
- **In-memory**: Run without database for testing (data not persisted) PM2 or similar to keep it running:
   ```bash
   npm install -g pm2
   pm2 start server.js --name blog-api
   pm2 save
   pm2 startup
   ```

## Testing CRUD Operations

### Using the Web Interface
Simply open the application in your browser and use the forms to test all CRUD operations.

### Using cURL or Postman

**Create a post:**
```bash
curl -X POST http://localhost:3000/api/posts \
  -H "Content-Type: application/json" \
  -d '{"title":"My First Post","content":"This is the content","author":"John Doe"}'
```

**Get all posts:**
```bash
curl http://localhost:3000/api/posts
```

**Get single post:**
```bash
curl http://localhost:3000/api/posts/1
```

**Update a post:**
```bash
curl -X PUT http://localhost:3000/api/posts/1 \
  -H "Content-Type: application/json" \
  -d '{"title":"Updated Title","content":"Updated content","author":"John Doe"}'
```

**Delete a post:**
```bash
curl -X DELETE http://localhost:3000/api/posts/1
```

## License

MIT - Feel free to use this for learning and tutorials!
